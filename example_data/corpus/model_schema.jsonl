[{"entity": "User", "fields": [{"name": "id", "type": "UUID", "primaryKey": true, "description": "Unique user identifier"}, {"name": "email", "type": "VARCHAR(255)", "unique": true, "nullable": false, "description": "User email address"}, {"name": "password_hash", "type": "VARCHAR(255)", "nullable": false, "description": "Bcrypt hashed password, minimum 12 rounds"}, {"name": "first_name", "type": "VARCHAR(100)", "nullable": true}, {"name": "last_name", "type": "VARCHAR(100)", "nullable": true}, {"name": "email_verified", "type": "BOOLEAN", "default": false}, {"name": "is_active", "type": "BOOLEAN", "default": true}, {"name": "last_login", "type": "TIMESTAMP", "nullable": true}, {"name": "created_at", "type": "TIMESTAMP", "default": "CURRENT_TIMESTAMP"}, {"name": "updated_at", "type": "TIMESTAMP", "default": "CURRENT_TIMESTAMP"}], "indexes": [{"name": "idx_user_email", "columns": ["email"]}, {"name": "idx_user_is_active", "columns": ["is_active"]}]}, {"entity": "Session", "fields": [{"name": "id", "type": "UUID", "primaryKey": true}, {"name": "user_id", "type": "UUID", "nullable": false, "foreignKey": "User.id"}, {"name": "access_token", "type": "TEXT", "nullable": false}, {"name": "refresh_token", "type": "TEXT", "nullable": true}, {"name": "token_type", "type": "VARCHAR(50)", "default": "Bearer"}, {"name": "expires_at", "type": "TIMESTAMP", "nullable": false}, {"name": "ip_address", "type": "VARCHAR(45)", "nullable": true}, {"name": "user_agent", "type": "TEXT", "nullable": true}, {"name": "is_revoked", "type": "BOOLEAN", "default": false}, {"name": "created_at", "type": "TIMESTAMP", "default": "CURRENT_TIMESTAMP"}], "indexes": [{"name": "idx_session_user_id", "columns": ["user_id"]}, {"name": "idx_session_token", "columns": ["access_token"]}, {"name": "idx_session_expires_at", "columns": ["expires_at"]}]}, {"entity": "Role", "fields": [{"name": "id", "type": "UUID", "primaryKey": true}, {"name": "name", "type": "VARCHAR(100)", "unique": true, "nullable": false}, {"name": "description", "type": "TEXT", "nullable": true}, {"name": "is_system_role", "type": "BOOLEAN", "default": false}, {"name": "created_at", "type": "TIMESTAMP", "default": "CURRENT_TIMESTAMP"}]}, {"entity": "Permission", "fields": [{"name": "id", "type": "UUID", "primaryKey": true}, {"name": "name", "type": "VARCHAR(100)", "unique": true}, {"name": "resource", "type": "VARCHAR(100)", "nullable": false}, {"name": "action", "type": "VARCHAR(50)", "nullable": false}, {"name": "description", "type": "TEXT"}], "uniqueConstraint": ["resource", "action"]}, {"entity": "UserRole", "fields": [{"name": "user_id", "type": "UUID", "foreignKey": "User.id", "primaryKey": true}, {"name": "role_id", "type": "UUID", "foreignKey": "Role.id", "primaryKey": true}, {"name": "assigned_at", "type": "TIMESTAMP", "default": "CURRENT_TIMESTAMP"}]}, {"entity": "MfaEnrollment", "fields": [{"name": "id", "type": "UUID", "primaryKey": true}, {"name": "user_id", "type": "UUID", "foreignKey": "User.id", "nullable": false}, {"name": "type", "type": "ENUM('TOTP','SMS','WEBAUTHN','EMAIL')", "nullable": false}, {"name": "secret_encrypted", "type": "TEXT", "nullable": true}, {"name": "phone_number", "type": "VARCHAR(20)", "nullable": true}, {"name": "verified", "type": "BOOLEAN", "default": false}, {"name": "enrolled_at", "type": "TIMESTAMP"}], "indexes": [{"name": "idx_mfa_user_id", "columns": ["user_id"]}, {"name": "idx_mfa_verified", "columns": ["verified"]}]}]
